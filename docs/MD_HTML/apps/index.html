<!-- _includes/base.html -->




<!DOCTYPE html>
	<html>
		<head>
			<title>index</title>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<meta name="description" content="">
			<meta name="author" content="">
			<title>PSLab help</title>
			
			<!-- core CSS -->
			<link href="../css/bootstrap.min.css" rel="stylesheet">
			<link href="../css/main.css" rel="stylesheet">
			<link href="../css/highlight.css" rel="stylesheet">
		</head>

<body class="homepage">

    <header id="header">

	<nav class="navbar navbar-inverse"  role="banner">
	  <div class="container-fluid">
	    <div class="navbar-header pull-left">
	            <a class="navbar-brand" href="../index.html"><img src="../images/logo.png" style="max-height:50px;background:#7a7;" alt="logo"></a>
	    </div>
	    <ul class="nav navbar-nav pull-left">
                        <li ><a href="../index.html">Home</a></li>
                        <li ><a href="../utilities/index.html">Utilities</a></li>
                        <li class="active"><a href="../apps/index.html">Experiments</a></li>
	    </ul>
	    <!--
	    <form class="navbar-form navbar-left">
	      <div class="form-group">
		<input type="text" class="form-control" placeholder="Search">
	      </div>
	      <button type="submit" class="btn btn-default">Submit</button>
	    </form>
	    -->
	  </div>
	</nav>


		
    </header><!--/header-->

		<!-- _includes/base.html -->




<!-- _includes/base.html -->




<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="../utilities/index.html"> Utilities Section </a>
  <a href="../apps/index.html"> Experiments Section </a>
  <hr>
  <ul>
	  
		
	  
  </ul>
  <hr>
  <ul>
	  
		<li><a href="../apps/B_LEMON_CELL.html" title="Lemon cell">Lemon cell</a></li>
	  
		<li><a href="../apps/C_AC_GENERATOR.html" title="AC Generator">AC Generator</a></li>
	  
		<li><a href="../apps/E_transientRLC.html" title="Transient RLC">Transient RLC</a></li>
	  
		<li><a href="../apps/K_bodePlots.html" title="Bode Plots">Bode Plots</a></li>
	  
		<li><a href="../apps/astable-multivibrator.html" title="Astable Multivibrator">Astable Multivibrator</a></li>
	  
		<li><a href="../apps/A_AC_AND_DC.html" title="AC and DC">AC and DC</a></li>
	  
		<li><a href="../apps/DUST_SENSOR.html" title="Dust Sensor">Dust Sensor</a></li>
	  
		<li><a href="../apps/D_RESISTANCE.html" title="Resistors">Resistors</a></li>
	  
		<li><a href="../apps/L_LinearRampGen.html" title="Ramp Generator">Ramp Generator</a></li>
	  
		<li><a href="../apps/Precision_Rectifier.html" title="Precision Rectifier">Precision Rectifier</a></li>
	  
		<li><a href="../apps/Z_designer.html" title="Experiment Designer">Experiment Designer</a></li>
	  
		<li><a href="../apps/D_NFET.html" title="N-channel FET">N-channel FET</a></li>
	  
		<li><a href="../apps/D_ZenerIV.html" title="Zener Diode IV">Zener Diode IV</a></li>
	  
		<li><a href="../apps/D_diodeIV.html" title="Diode IV">Diode IV</a></li>
	  
		<li><a href="../apps/D_transistorCE.html" title="Transistor CE">Transistor CE</a></li>
	  
		<li><a href="../apps/D_transistorCB.html" title="Transistor CB">Transistor CB</a></li>
	  
		<li><a href="../apps/L_halfWave.html" title="Half-Wave Rectifier">Half-Wave Rectifier</a></li>
	  
		<li><a href="../apps/M_FullWave.html" title="Full-Wave Rectifier">Full-Wave Rectifier</a></li>
	  
		<li><a href="../apps/H_SOUND_BEATS.html" title="Sounds Beats">Sounds Beats</a></li>
	  
		<li><a href="../apps/M_RANDOM_SAMPLING.html" title="Random Sampling">Random Sampling</a></li>
	  
		<li><a href="../apps/I_CAPACITANCE.html" title="Capacitors 101">Capacitors 101</a></li>
	  
		<li><a href="../apps/L_Summing.html" title="Summing Junction">Summing Junction</a></li>
	  
		<li><a href="../apps/E_OhmsLaw.html" title="Ohm's Law">Ohm's Law</a></li>
	  
		<li><a href="../apps/E_RESISTANCE_BODY.html" title="Body Resistance">Body Resistance</a></li>
	  
		<li><a href="../apps/F_WATER_RESISTANCE.html" title="Resistance of Water">Resistance of Water</a></li>
	  
		<li><a href="../apps/F_EM_INDUCTION.html" title="Mutual Inductance">Mutual Inductance</a></li>
	  
		<li><a href="../apps/G_servo_motors.html" title="Servo Motors">Servo Motors</a></li>
	  
		<li><a href="../apps/G_SOUND_BASICS.html" title="Sound Basics">Sound Basics</a></li>
	  
		
	  
  </ul>

</div>
<div style="padding:10px;"><span id="menubutton" style="font-size:30px;cursor:pointer;" onclick="openNav()">&#9776; Experiments</span></div>

<div id="main">

	

	<section id="recent-works">
		<div class="container">
			

  <p>The goal of PSLab is to create an Open Source hardware device (open on all layers) that can be used for experiments by teachers, students and citizen scientists. Our tiny pocket lab provides an array of sensors for doing science and engineering experiments. It provides functions of numerous measurement devices including an oscilloscope, a waveform generator, a frequency counter, a programmable voltage, current source and as a data logger.</p>

<p>We are developing the experiments starting on the hardware to libraries and user interfaces for desktop PCs and Android apps for smartphones. The PSLab project is inspired by the work of the Open Science Hardware community and the ExpEYES project. Our website is at: http://pslab.fossasia.org</p>

<h2 id="communication">Communication</h2>

<p>Please join us on the following channels:</p>
<ul>
  <li><a href="https://gitter.im/fossasia/pslab">Pocket Science Channel</a></li>
  <li><a href="https://groups.google.com/forum/#!forum/pslab-fossasia">Mailing List</a></li>
</ul>

<h1 id="communicating-with-pocket-science-lab-via-usb-and-understanding-the-various-readwrite-functions">Communicating with Pocket Science Lab via USB and understanding the various read/write functions</h1>

<p>Design of PSLab combines the flexibility of Python programming language and the real-time measurement capability of micro-controllers.</p>

<p>PSLab, with its simple and open architecture allows users to use the tool for various measurements and to develop new experiments with simple functions written in python.</p>

<p>It is interfaced and powered by USB port of the computer. For connecting external signals it has several input/output terminals as shown in the following figure.</p>

<p><img src="images/pslabdesign.png" alt="" /></p>

<h2 id="interfacing-with-the-real-world-one-small-python-script-at-a-time">Interfacing with the real world. One small Python script at a time</h2>

<h2 id="example1py--connecting-to-the-device--and-read-a-voltage-value-from-one-of-the-analog-inputs">Example1.py : Connecting to the device , and read a voltage value from one of the analog inputs</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">PSL</span> <span class="kn">import</span> <span class="n">sciencelab</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">sciencelab</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>     <span class="c">#Returns None if device isn't found</span>
<span class="c"># An example function that measures voltage present at the specified analog input</span>
<span class="k">print</span> <span class="n">I</span><span class="o">.</span><span class="n">get_average_voltage</span><span class="p">(</span><span class="s">'CH1'</span><span class="p">)</span>
</code></pre>
</div>

<p>The module <a href="https://github.com/fossasia/pslab/blob/master/PSL/sciencelab.py">sciencelab.py</a> contains all the functions required for communicating with PSLab hardware. It also contains some utility functions. The class <code class="highlighter-rouge">ScienceLab()</code> contains methods that can be used to interact with the PSLab. The <code class="highlighter-rouge">connect()</code> function returns an instance of this class if PSLab hardware is detected.
The ScienceLab class does the following crucial jobs during the creation of an instance.</p>
<ul>
  <li>Scan for ttyACM devices, and attempt to read device version if the vendor and product IDs match, and the device appears to be unopened by any other instance.</li>
  <li>Load calibration constants, polynomials, and tables</li>
  <li>Create a socket to indicate ownership of the device being used</li>
</ul>

<p>Once the device has been succesfully opened, the instance of ScienceLab.py can be used to access its various features.
Here’s an example script to read values from a magnetometer connected to the I2C port of the PSLab</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">PSL</span> <span class="kn">import</span> <span class="n">sciencelab</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">sciencelab</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>     <span class="c">#Returns None if device isn't found</span>
<span class="kn">from</span> <span class="nn">PSL.SENSORS</span> <span class="kn">import</span> <span class="n">HMC5883L</span> <span class="c">#A 3-axis magnetometer</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">HMC5883L</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">I2C</span><span class="p">)</span>    <span class="c">#Specify that the I2C bridge is to be used</span>
<span class="n">Gx</span><span class="p">,</span><span class="n">Gy</span><span class="p">,</span><span class="n">Gz</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">getRaw</span><span class="p">()</span>           <span class="c">#Returns three decimal numbers that indicate magnetic fields along orthogonal axes</span>
</code></pre>
</div>

<h2 id="example-3--capturing-a-sine-wave-and-plotting-it-using-matplotlib">Example 3 : Capturing a sine wave, and plotting it using matplotlib</h2>

<p>The function call that is used for acquisition 
<code class="highlighter-rouge">capture1(channel name,number of samples,time gap (uS) between samples, *optional keyword arguments)</code></p>
<ul>
  <li>Channel name : Any one of the analog inputs available : ‘CH1’,’CH2’,’CH3’,’MIC’,’SEN’,’CAP’,’AN8’</li>
  <li>Number of samples : total voltage samples to read (Maximum 10000 samples)</li>
  <li>time gap : The time delay between successive samples</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">PSL</span> <span class="kn">import</span> <span class="n">sciencelab</span>   <span class="c">#These first two lines are always used to create the instance, </span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">I</span> <span class="o">=</span> <span class="n">sciencelab</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>     <span class="c">#and will not be repeated in further examples.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">I</span><span class="o">.</span><span class="n">set_gain</span><span class="p">(</span><span class="s">'CH1'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c"># set input CH1 to +/-4V range</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">I</span><span class="o">.</span><span class="n">set_sine1</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># generate 1kHz sine wave on the waveform generator W1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c">#USE A WIRE TO CONNECT W1 to CH1.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s">'CH1'</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c"># measure the voltage at CH1 1000 times, with 10uS interval between successive samples</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>    <span class="c">#Import the plotting library</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>                   <span class="c">#Plot the time axis against the voltage data</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">show</span><span class="p">()</span>                  <span class="c">#display the plot</span>
</code></pre>
</div>
<p>The following image displays the plot output</p>

<p><img src="images/sine1.png" alt="" /></p>

<h2 id="example-4--capturing-two-sine-waves-and-plotting-them">Example 4 : Capturing two sine waves, and plotting them</h2>
<p>The function call that is used for acquisition 
<code class="highlighter-rouge">capture2(number of samples,time gap (uS) between samples, TraceOneRemap)</code></p>
<ul>
  <li>Number of samples : total voltage samples to read (Maximum 5000 samples)</li>
  <li>time gap : The time delay between successive samples</li>
  <li>TraceOneRemap(optional) : This function returns data from CH1 and CH2 by default, but CH1 can be replaced by any one of the analog inputs available : ‘CH1’,’CH2’,’CH3’,’MIC’,’SEN’,’CAP’,’AN8’ . Channel 2 is always CH2</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PSL</span> <span class="kn">import</span> <span class="n">sciencelab</span>
<span class="n">I</span><span class="o">=</span><span class="n">sciencelab</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_gain</span><span class="p">(</span><span class="s">'CH1'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c"># set input CH1 to +/-4V range</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_gain</span><span class="p">(</span><span class="s">'CH2'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c"># set input CH2 to +/-4V range</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_sine1</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># generate 1kHz sine wave on output W1</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_sine2</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># generate 1kHz sine wave on output W2</span>
<span class="c">#Connect W1 to CH1, and W2 to CH2. W1 can be attenuated using the manual amplitude knob on the PSlab</span>
<span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">capture2</span><span class="p">(</span><span class="mi">1600</span><span class="p">,</span><span class="mf">1.75</span><span class="p">,</span><span class="s">'CH1'</span><span class="p">)</span> 
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">)</span> <span class="c">#Plot of analog input CH1</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span> <span class="c">#plot of analog input CH2</span>
<span class="n">show</span><span class="p">()</span>
</code></pre>
</div>

<p>Resultant plot :</p>

<p><img src="images/sine2.png" alt="" /></p>

<h2 id="example-5--capturing-four-oscilloscope-traces-simultaneously-from-various-analog-inputs">Example 5 : Capturing four oscilloscope traces simultaneously from various analog inputs</h2>

<p>The function call that is used for acquisition</p>

<p><code class="highlighter-rouge">capture4(number of samples,time gap (uS) between samples, TraceOneRemap)</code></p>
<ul>
  <li>Number of samples : total voltage samples to read (Maximum 2500 samples)</li>
  <li>time gap : The time delay between successive samples. Minimum 2uS, Maximum 8000</li>
  <li>TraceOneRemap(optional) : This function returns data from CH1,CH2,CH3,MIC by default, but CH1 can be replaced by any one of the analog inputs available : ‘CH1’,’CH2’,’CH3’,’MIC’,’SEN’,’CAP’,’AN8’ . the other three channels are fixed</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PSL</span> <span class="kn">import</span> <span class="n">sciencelab</span>
<span class="n">I</span><span class="o">=</span><span class="n">sciencelab</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_gain</span><span class="p">(</span><span class="s">'CH1'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c"># set input CH1 to +/-4V range</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_gain</span><span class="p">(</span><span class="s">'CH2'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c"># set input CH2 to +/-4V range</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_sine1</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># generate 1kHz sine wave on output W1</span>
<span class="n">I</span><span class="o">.</span><span class="n">set_sine2</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># generate 1kHz sine wave on output W2</span>
<span class="n">I</span><span class="o">.</span><span class="n">sqr1</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span><span class="n">duty_cycle</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c"># generate 1kHz square wave on output SQR1</span>
<span class="c">#Connect SQR1 to CH1</span>
<span class="c">#Connect W1 to CH2, and W2 to CH3. W1 can be attenuated using the manual amplitude knob on the PSlab</span>
<span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">y3</span><span class="p">,</span><span class="n">y4</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">capture4</span><span class="p">(</span><span class="mi">1600</span><span class="p">,</span><span class="mf">1.75</span><span class="p">,</span><span class="s">'CH1'</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">)</span> <span class="c">#Plot of analog input CH1</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span> <span class="c">#plot of analog input CH2</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y3</span><span class="p">)</span> <span class="c">#plot of analog input CH3</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y4</span><span class="p">)</span> <span class="c">#plot of analog input CH4 : MIC</span>
<span class="n">show</span><span class="p">()</span>
</code></pre>
</div>

<p>Resultant plot :</p>

<p><img src="images/waves.png" alt="" /></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#code snippet example</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">show</span><span class="p">()</span>
</code></pre>
</div>



</div>

<script type="text/javascript">
var linkElement = document.createElement("link");
linkElement.rel = "stylesheet";
linkElement.href = "../css/leftnav.css"; 
document.head.appendChild(linkElement);

function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
    document.getElementById("menubutton").style.visibility = "hidden";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
    document.getElementById("menubutton").style.visibility = "visible";
}

</script>




	<div class="footer navbar-fixed-bottom" >
	    <footer >
	      <div class="container">
    		<ul>
        		<li><a href="mailto:pslab-fossasia@google-groups.com">bug-reports</a></li>
        		<li><a href="https://fossasia.org/pslab">fossasia.org/pslab</a></li>
		</ul>
	      </div>
	    </footer>
	 </div>

    <!--
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/wow.min.js"></script>
    -->
	</body>
</html>
